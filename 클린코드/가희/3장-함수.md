# 3장 - 함수

어떤 프로그램이든 간에 ‘가장 기본적인 단위는 함수’이다. 

todo - 목록 3-1

```jsx

```

## 작게!

- 함수를 만드는 첫째 규칙은 작게!
    - 저자는 함수는 20줄도 길다고 생각함

### 블록, 들여쓰기

- 블록 들여쓰기는 한줄이어야한다!
    - 대개 들여쓰기에서 함수를 호출한다.
    - 블록 안에서 호출하는 함수 이름도 적절히 짓는다면, 이해하기도 쉬울 것

⇒ 중첩 구조가 생길만큼 함수가 커져서는 안된다. 

## 한가지만 해라!

- 함수는 한가지를 해야한다, 그 한가지를 ‘잘’해야 한다.

### 한가지가 대체 뭐냐?

추상화 수준이 하나라는 뜻, 

- 지정된 함수 이름 아래서, 추상화 수준이 하나인 단계만 사용한다면, 그 함수는 한 가지 작업만 하는 것!

➕ 함수를 의미 있는 다른 이름으로 함수를 추출할 수 있다면, 그 함수는 여러 작업을 하는 셈!

- 함수가 ‘확실히 한 가지’ 일만 수행하려면, 함수 내 모든 문장의 추상화 수준은 동일 해야한다.

⇒ 추상화 수준을 섞으면 함수를 읽는 사람이 헷갈림! 특정표현이 근본 개념인지, 세부사항인지 구분하기 어려움

## Switch문 todo ,,

- 작게 만들기 어렵지만, 추상 팩토리에 꽁꽁 숨기자

## 서술적인 이름만 사용하라!

- 서술적인 이름을 사용하여 함수가 하는 일을 명확히 하면 이해하기 쉽다.
- 모듈 내 함수에 이름을 붙일 때 함수는 같은 문구, 동사를 사용해야 한다.
- 서술적인 이름을 사용하면 개발자 머릿속에서도 설계가 뚜렷해지므로 코드를 개선하기 쉽다!

## 함수 인수

- 함수에서 가장 이상적인 인수 개수는 0개다.
- 테스트 관점에서 보면 인수는 더 어렵다. 갖가지 인수 조합으로 함수를 검증하는 테스트 케이스를 상상하면 극 악임

### 많이 쓰는 단항 형식

함수에 인수 1개를 넘기는 가장 흔한 2가지 이유

1. 인수에 질문을 던지는 경우, 
    
    `boolean fileExists(”MyFile”)`
    
2. 인수를 뭔가로 변환해 결과를 반환하는 경우
    
    `InputStream fileOpen(”MyFille”)`
    
    → String형의 파일 이름을 InputStream으로 변환
    

➕ 단항 형식의 이벤트 → 조심해서 사용하자! 이벤트라는 사실이 코드에 명확히 드러나야함!

### 플래그 인수는 추하다.

- 함수가 한꺼번에 여러가지 일을 처리한다고 대놓고 공표하는셈,
- 플래그가 참이면 이걸 하고, 플래그가 거짓이면 다른일을 한다는 것..

### 이항 함수

- 불가피하기 사용하는 경우도 있음,
    - 하지만 단항함수로 바꾸도록 애써야함

예시

```jsx
writeFeild(outputStream, name)
```

해결 방법

1. 위의 메서드를 `outputStream`클래스 구성원으로 만들어, `outputStream.writeFeild(name)`으로 호출
2. `outputStream`을 현재 클래스 구성원 변수로 만들어, 인수로 넘기지 않는 것도 방법 
3. FieldWriter라는 새 클래스를 만들어 구성자에서 outputStream을 받고, 매서드를 구현해도 됨

### 삼항 함수

- 인수가 2-3개가 필요하다면, 일부를 독자적인 클래스 변수로 선언할 가능성을 짚어보자

```jsx
Circle makeCircle(double x, double y, double radius);

tobe

Circle makeCircle(Point center, double radius);
```

## 부수효과를 일으키지 마라!

함수는 한번에 한가지 일만 한다는 법칙에도 위반, 

todo - 목록 3-6

## 오류 코드보다 예외를 사용하라!

todo - 58 page

### try-catch블록 뽑아내기

- 오류 처리 코드가 원래 코드에서 분리되면 코드가 깔끔해진다.

- 오류처리도 한가지 작업이다.
- 정상 동작과, 오류 처리 동작을 분리하면 코드를 이해하고 수정하기 쉬워진다.

## 함수를 작성하는 방법

1. 처음에는 중첩된 루프도 많겠지만 일단 작성
2. 단위 테스트코드작성
3. 함수 추출 및 클래스로 분리
    
    ⇒ 물론 이 때도 2번의 단위테스트 모두 통괴해야함~
