# 6장 객체와 자료 구조

### 자료 추상화

- 자료를 세세하게 공개하기 보다는 추상적인 개념으로 표현하는 편이 좋다.
- 인터페이스나 조회/설정 함수만으로는 추상화가 이뤄지지 않는다.
    - 개발자는 객체가 포함하는 자료를 표현할 가장 좋은 방법을 심각하게 고민해야 한다.
    

### 자료/객체 비대칭

- 객체는 추상화 뒤로 자료를 숨긴 채 자료를 다루는 함수만 공개한다
- 자료 구조는 자료를 그대로 공개하며 별다른 함수는 제공하지 않는다

객체지향코드와 절차적인 코드는 상반된다.

절차적인 코드

- 장점 : 기존 자료 구조를 변경하지 않으면서 새 함수를 추가하기 쉽다
- 단점 : 새로운 자료 구조 추가하기 어렵다

객체 지향 코드

- 장점 : 기존 함수를 변경하지 않으면서 새 클래스를 추가하기 쉽다.
- 단점 : 새로운 함수를 추가하기 어렵다.

때로는 단순한 자료 구조와 절차적인 코드가 적합한 상황도 있다.

### 디미터 법칙

- 모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다는 법칙
- 즉, 객체는 조회 함수로 내부 구조를 공개하면 안 된다는 의미
- 객체에서 허용된 메소드가 반환하는 객체의 메서드는 호출하면 안된다.
    - ex) ctxt.getOptions().getScratchDir().getAbsolutePath();
    - 위와 같은 예시를 기차 충돌이라 부른다. 이어지는 모습이 조잡하다 여겨져 피하는 것이 좋다.

### 잡종 구조

- 절발은 객체, 절반은 자료 구조인 잡종 구조
- 공개 조회/설정 함수는 비공개 변수를 그대로 노출한다.
- 새로운 함수와 자료 구조를 추가하기 어려운 구조로 단점만 모아놓은 구조다.
    - 피해라 !!
    

### 자료 구조체(DTO)

- 공개 변수만 있고 함수가 없는 클래스

### 결론

객체

- 동작을 공개하고 자료를 숨긴다.
- 기존 동작을 변경하지 않으면서 새 객체 타입을 추가하기 쉽다
- 기존 객체에 새 동작을 추가하기 어렵다.

자료 구조

- 별다른 동작 없이 자료를 노출한다.
- 기존 자료 구조에 새 동작을 추가하기는 쉽다.
- 기존 함수에 새 자료 구조를 추가하기는 어렵다

시스템을 구현할 때, 

- 새로운 자료 타입을 추가하는 유연성이 필요하면 객체가 더 적합하다.
- 새로운 동작을 추가하는 유연성이 필요하면 자료 구조와 절차적인 코드가 더 적합하다.

따라서, 우수한 소프트웨어 개발자는 편견 없이 이 사실을 이해해 직면한 문제에 최적인 해결책을 선택해야 한다.